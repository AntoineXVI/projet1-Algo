#importer la fonction random
#import random

#faire une fonction morpionVide qui crée une table de morpion de 9cases avec comme parametres tab et longueur
    #pour i allant de 0 a longeur 
        #ajouter à la  liste tab une liste de chaine vide multiplié par la longueur de tab


#faire une fonction afficherMorpion affiche le tableeau de morpion a jour avec comme parametres tab et longueur
    #pour k allant de 0 jusqu'a la longueur du tableau
        #afficher le tableau d'indice k

#faire une fonction trouverCoord qui renvoie les coordonnees x et y avec comme parametre choix
    #si choix est egale a "1"
        #alors assigner x a 0
        #assigner y a 0
        #retourner x et y
    #sinon si choix est egale a "2"
        #alors assigner x a 0
        #assigner y a 1
        #retourner x et y
    #sinon si choix est egale a "3"
        #alors assigner x a 0
        #assigner y a 2
        #retourner x et y
    #sinon si choix est egale a "4"
        #alors assigner x a 1
        #assigner y a 0
        #retourner x et y
    #sinon si choix est egale a "5"
        #alors assigner x a 1
        #assigner y a 1
        #retourner x et y
    #sinon si choix est egale a "6"
        #alors assigner x a 1
        #assigner y a 2
        #retourner x et y
    #sinon si choix est egale a "7"
        #alors assigner x a 2
        #assigner y a 0
        #retourner x et y
    #sinon si choix est egale a "8"
        #alors assigner x a 2
        #assigner y a 1
        #retourner x et y
    #sinon si choix est egale a "9"
        #alors assigner x a 2
        #assigner y a 2
        #retourner x et y
    #sinon
        #alors retourner ValuesError
    

#faire une fonction iswin qui renvoie les coordonnees x et y avec comme parametre tab xchoix et ychoix
def isWin(tab, xChoix, yChoix):
    #test en ligne
    if yChoix == 0:
        if (tab[xChoix][yChoix + 1] == tab[xChoix][yChoix])and (tab[xChoix][yChoix + 2] == tab[xChoix][yChoix]) :
            return tab[xChoix][yChoix]
    elif yChoix == 1:
        if (tab[xChoix][yChoix - 1] == tab[xChoix][yChoix])and (tab[xChoix][yChoix + 1] == tab[xChoix][yChoix]) :
            return tab[xChoix][yChoix]
    elif yChoix == 2:
        if (tab[xChoix][yChoix - 2] == tab[xChoix][yChoix])and (tab[xChoix][yChoix - 1] == tab[xChoix][yChoix]) :
            return tab[xChoix][yChoix]
    #test en colonne 
    if xChoix == 0:
        if (tab[xChoix + 1][yChoix] == tab[xChoix][yChoix])and (tab[xChoix + 2][yChoix] == tab[xChoix][yChoix]) :
            return tab[xChoix][yChoix]
    elif xChoix == 1:
        if (tab[xChoix - 1][yChoix ] == tab[xChoix][yChoix])and (tab[xChoix  + 1][yChoix] == tab[xChoix][yChoix]) :
            return tab[xChoix][yChoix]
    elif xChoix == 2:
        if (tab[xChoix - 2][yChoix] == tab[xChoix][yChoix])and (tab[xChoix - 1][yChoix] == tab[xChoix][yChoix]) :
            return tab[xChoix][yChoix]
    #test en diagonale
    if xChoix == 1 and yChoix == 1:
        if tab[0][0] == tab[xChoix][yChoix] and tab[2][2] == tab[1][1]:
            return tab[xChoix][yChoix]
        elif tab[0][2] == tab[xChoix][yChoix] and tab[2][0] == tab[1][1]:
            return tab[xChoix][yChoix]



#initalise la variable WinCpu a False
winCpu = False
#initalise la variable winUser a False
winUser = False
#initalise la variable isFirst a True
isFirst = True
#initalise la variable countTour a 0
countTour = 0
#initialise la liste tab vide
tab = []
morpionVide(tab, 3)
afficherMorpion(tab, 3)
#assigner a alea, un nombre entre 1 et 2
alea = random.randint(1,2)
if alea == 1:
    print("tu joues en premier\n")
else:
    print("tu joues en deuxime\n")
    isFirst = False
print("tu joues les X\n") 

#tant que WinCpu et winUser sont egaux a faux
while winCpu == False and winUser == False:
    if isFirst != False:
        #assigner a choix, la chaine choisie par l'utilisateur
        print("à ton tour\n")
        choix = str(input("entrez une case (de la case 1 a la case 9)\n"))
        x,y = trouverCoord(choix)
        while (tab[x][y] == 'X') or (tab[x][y] == 'O') or trouverCoord == ValueError:
            print("erreur: entrez un chiffre entre 1 et 9 non utilisé")
            choix = str(input("entrez une case (de la case 1 a la case 9)\n"))
            x,y = trouverCoord(choix)
        tab[x][y] = 'X'
        print("tu as joué sur la case " + choix + "\n" )
        afficherMorpion(tab, 3)
        countTour = countTour + 1
        if isWin(tab, x, y) == 'X':
            winUser == True
            print("Bravo, tu as gagné\n")
            break
        else:
            if countTour >= 9:
                print("Egalité.\n")
                break
    else:
        isFirst = True
    print("au tour de l'IA\n")
    #assigner a alea, un nombre entre 1 et 9
    choixCpu = str(random.randint(1,9))
    x,y = trouverCoord(choixCpu)
    while (tab[x][y] == 'X') or (tab[x][y] == 'O') or trouverCoord == ValueError:
        choixCpu = str(random.randint(1,9))
        x,y = trouverCoord(choixCpu)
    tab[x][y] = 'O'
    print("Le CPU a joué sur la case " + choixCpu + "\n" )
    afficherMorpion(tab, 3)
    countTour = countTour + 1
    if isWin(tab, x, y) == 'O':
        winCpu == True
        print("Dommage, tu as perdu\n")
        break
    else:
        if countTour >= 9:
            print("Egalité.\n")
            break
        print("Fin du tour numero " + str(countTour) + ":\n")
print("Fin de Partie\n")
